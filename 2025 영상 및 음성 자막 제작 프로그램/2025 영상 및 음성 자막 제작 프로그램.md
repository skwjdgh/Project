# ì˜ìƒ-ìŒì„± ê¸°ë°˜ ìë§‰ ìƒì„±ê¸° í”„ë¡œì íŠ¸

## 1. í”„ë¡œì íŠ¸ ê°œìš”
- í•œêµ­ì–´ëŠ” ë™ì¼ ìƒí™©ì—ì„œë„ ë‹¤ì–‘í•œ ì–´íœ˜ê°€ ì¡´ì¬í•˜ê³ , í˜¸ì¹­ê³¼ ë†’ì„ë§ì— ë”°ë¼ í‘œí˜„ì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤.  
- ë³¸ í”„ë¡œì íŠ¸ëŠ” AI ê¸°ë°˜ ìë™ ìë§‰ ìƒì„±ê¸°ë¥¼ ê°œë°œí•˜ì—¬, ì˜ìƒ/ìŒì„± ì»¨í…ì¸ ë¥¼ í•œêµ­ì–´ ìë§‰ìœ¼ë¡œ ìë™ ë³€í™˜í•˜ê³ , ê¸°ì¡´ ë²ˆì—­/ìë§‰ ì œì‘ì˜ ìˆ˜ì‘ì—… ë¶€ë‹´ì„ ì¤„ì´ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.  
- **3ì¤‘ íŒŒì´í”„ë¼ì¸ êµ¬ì¡°**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, VAD â†’ STT â†’ NLP â†’ ìë§‰ ìƒì„± ë° ì‹±í¬ ì¡°ì • â†’ ìë§‰ ì €ì¥ ìˆœìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.  

---

## 2. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°

ğŸ“‚ SubtitleGenerator
â”œâ”€â”€ main.py # ì „ì²´ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì§„ì…ì 
â”œâ”€â”€ def_config.py # í™˜ê²½ ì„¤ì •
â”œâ”€â”€ def_exception.py # ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬
â”‚
â”œâ”€â”€ ğŸ“‚ Pipeline
â”‚ â”œâ”€â”€ pipeline_stage1.py # Stage1: VAD â†’ STT
â”‚ â”œâ”€â”€ pipeline_stage2.py # Stage2: NLP ì²˜ë¦¬
â”‚ â”œâ”€â”€ pipeline_stage3.py # Stage3: ìë§‰ ì²˜ë¦¬ ë° ì €ì¥
â”‚ â””â”€â”€ def_exception.py
â”‚
â”œâ”€â”€ ğŸ“‚ Utility
â”‚ â”œâ”€â”€ ğŸ“‚ VAD
â”‚ â”‚ â”œâ”€â”€ imp_vad.py # VAD ê¸°ëŠ¥ í†µí•© ì¸í„°í˜ì´ìŠ¤
â”‚ â”‚ â”œâ”€â”€ vad_split.py # ìŒì„± êµ¬ê°„ ì¶”ì¶œ
â”‚ â”‚ â”œâ”€â”€ vad_filter.py # ì¡ìŒ êµ¬ê°„ í•„í„°ë§
â”‚ â”‚ â””â”€â”€ def_exception.py
â”‚ â”‚
â”‚ â”œâ”€â”€ ğŸ“‚ STT
â”‚ â”‚ â”œâ”€â”€ imp_stt.py # STT ê¸°ëŠ¥ í†µí•© ì¸í„°í˜ì´ìŠ¤
â”‚ â”‚ â”œâ”€â”€ stt_model.py # ëª¨ë¸ ë¡œë”©
â”‚ â”‚ â”œâ”€â”€ stt_preprocess.py # ìŒì„± ì „ì²˜ë¦¬
â”‚ â”‚ â”œâ”€â”€ stt_postprocess.py # í›„ì²˜ë¦¬
â”‚ â”‚ â””â”€â”€ def_exception.py
â”‚ â”‚
â”‚ â”œâ”€â”€ ğŸ“‚ NLP
â”‚ â”‚ â”œâ”€â”€ imp_nlp.py # NLP ê¸°ëŠ¥ í†µí•© ì¸í„°í˜ì´ìŠ¤
â”‚ â”‚ â”œâ”€â”€ nlp_tokenizer.py # í† í°í™”
â”‚ â”‚ â”œâ”€â”€ nlp_cleaner.py # ë¶ˆí•„ìš”í•œ í…ìŠ¤íŠ¸ ì œê±°
â”‚ â”‚ â”œâ”€â”€ nlp_context.py # ë§¥ë½ ë¶„ì„
â”‚ â”‚ â””â”€â”€ def_exception.py
â”‚ â”‚
â”‚ â”œâ”€â”€ ğŸ“‚ Formatter
â”‚ â”‚ â”œâ”€â”€ imp_formatter.py # í¬ë§· ë³€í™˜ í†µí•© ì¸í„°í˜ì´ìŠ¤
â”‚ â”‚ â”œâ”€â”€ fmt_style.py # ë¬¸ì²´ ë³€í™˜
â”‚ â”‚ â”œâ”€â”€ fmt_normalizer.py # ì–´íœ˜ í‘œì¤€í™”
â”‚ â”‚ â””â”€â”€ def_exception.py
â”‚ â”‚
â”‚ â”œâ”€â”€ ğŸ“‚ SubtitleProcessing
â”‚ â”‚ â”œâ”€â”€ imp_subtitle.py # ìë§‰ ì²˜ë¦¬ í†µí•© ì¸í„°í˜ì´ìŠ¤
â”‚ â”‚ â”œâ”€â”€ sub_structure.py # ìë§‰ ë°ì´í„° êµ¬ì¡°í™”
â”‚ â”‚ â”œâ”€â”€ sub_merger.py # ë¬¸ì¥ ë³‘í•©/ë¶„í• 
â”‚ â”‚ â””â”€â”€ def_exception.py
â”‚ â”‚
â”‚ â”œâ”€â”€ ğŸ“‚ SyncAdjust
â”‚ â”‚ â”œâ”€â”€ imp_sync.py # ì‹±í¬ ì¡°ì • í†µí•© ì¸í„°í˜ì´ìŠ¤
â”‚ â”‚ â”œâ”€â”€ sync_matcher.py # ì˜¤ë””ì˜¤-í…ìŠ¤íŠ¸ ì‹±í¬ ë§¤ì¹­
â”‚ â”‚ â”œâ”€â”€ sync_optimizer.py # íƒ€ì„ìŠ¤íƒ¬í”„ ë³´ì •
â”‚ â”‚ â””â”€â”€ def_exception.py
â”‚ â”‚
â”‚ â”œâ”€â”€ ğŸ“‚ SubtitleSave
â”‚ â”‚ â”œâ”€â”€ imp_save.py # ì €ì¥ ê¸°ëŠ¥ í†µí•© ì¸í„°í˜ì´ìŠ¤
â”‚ â”‚ â”œâ”€â”€ save_srt.py # SRT ì €ì¥
â”‚ â”‚ â”œâ”€â”€ save_vtt.py # VTT ì €ì¥
â”‚ â”‚ â”œâ”€â”€ save_txt.py # TXT ì €ì¥
â”‚ â”‚ â””â”€â”€ def_exception.py
â”‚ â”‚
â”‚ â””â”€â”€ ğŸ“‚ Common
â”‚ â”œâ”€â”€ imp_logger.py # ë¡œê¹… ëª¨ë“ˆ
â”‚ â”œâ”€â”€ imp_fileio.py # íŒŒì¼ ì…ì¶œë ¥ ëª¨ë“ˆ
â”‚ â””â”€â”€ def_exception.py
â”‚
â””â”€â”€ ğŸ“‚ Input_data
â”œâ”€â”€ ğŸ“‚ video
â”œâ”€â”€ ğŸ“‚ audio
â””â”€â”€ ğŸ“‚ text

python
ì½”ë“œ ë³µì‚¬

---

## 3. imp_ ëª¨ë“ˆ ì‚¬ìš© ë°©ì‹

### 3.1 imp_stt.py (STT ì˜ˆì‹œ)

```python
# Utility/STT/imp_stt.py
from .stt_model import load_stt_model, run_stt
from .stt_preprocess import preprocess_audio
from .stt_postprocess import postprocess_text
from .def_exception import STTException

__all__ = [
    "load_stt_model",
    "run_stt",
    "preprocess_audio",
    "postprocess_text",
    "STTException",
]

```

### 3.2 ì™¸ë¶€ ì‚¬ìš© ì˜ˆì‹œ
python
ì½”ë“œ ë³µì‚¬
from Utility.STT import imp_stt
from Utility.VAD import imp_vad
from Utility.NLP import imp_nlp

# VAD ì²˜ë¦¬
segments = imp_vad.split_audio("input.wav")
clean_segments = imp_vad.filter_noise(segments)

# STT ì²˜ë¦¬
model = imp_stt.load_stt_model("whisper")
for seg in clean_segments:
    audio = imp_stt.preprocess_audio(seg)
    raw_text = imp_stt.run_stt(model, audio)
    final_text = imp_stt.postprocess_text(raw_text)
    print(final_text)

# NLP ì²˜ë¦¬
tokens = imp_nlp.tokenize(final_text)
clean_text = imp_nlp.clean_text(tokens)
contextual = imp_nlp.analyze_context(clean_text)


## 4. ì‹¤í–‰ íë¦„

main.py

Input_data í´ë”ì˜ ì—¬ëŸ¬ íŒŒì¼ íƒìƒ‰
Stage1 â†’ Stage2 â†’ Stage3 ìˆœì„œë¡œ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
ê²°ê³¼ëŠ” Output í´ë”ì— ì €ì¥
Pipeline ëª¨ë“ˆ
ê° Stageì—ì„œëŠ” Utility ëª¨ë“ˆì˜ imp_ íŒŒì¼ë§Œ í˜¸ì¶œ
ì˜ˆì™¸ ì²˜ë¦¬ ë° ë¡œê·¸ ê¸°ë¡ í¬í•¨
Utility ëª¨ë“ˆ
ì„¸ë¶€ ê¸°ëŠ¥ì€ ë…ë¦½ ìœ ì§€
ì™¸ë¶€ì—ì„œëŠ” imp_ íŒŒì¼ í•˜ë‚˜ë¡œ ëª¨ë“  ê¸°ëŠ¥ ì ‘ê·¼ ê°€ëŠ¥

## 5. ì¥ì 

ëª¨ë“ˆí™”: ê¸°ëŠ¥ë³„ ë…ë¦½ì„±ê³¼ ì¬ì‚¬ìš©ì„± í™•ë³´
Facade íŒ¨í„´: ì™¸ë¶€ì—ì„œ imp_ ëª¨ë“ˆë§Œ import
í™•ì¥ì„±: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ imp_ íŒŒì¼ë§Œ êµ¬í˜„
ìœ ì§€ë³´ìˆ˜ì„±: Pipelineì€ íë¦„ ì œì–´, UtilityëŠ” ê¸°ëŠ¥ ì§‘ì¤‘

